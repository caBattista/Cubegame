CREATE DATABASE game
WITH 
OWNER = postgres
ENCODING = 'UTF8'
LC_COLLATE = 'German_Germany.1252'
LC_CTYPE = 'German_Germany.1252'
TABLESPACE = pg_default
CONNECTION LIMIT = -1;

//users

CREATE TABLE public.users
(
    id uuid NOT NULL,
    username character varying(255) COLLATE pg_catalog."default" NOT NULL,
    password character varying(255) COLLATE pg_catalog."default" NOT NULL,
    salt character varying(255) COLLATE pg_catalog."default" NOT NULL,
    client_id character varying(255) COLLATE pg_catalog."default",
    CONSTRAINT user_pkey PRIMARY KEY (id)
)

TABLESPACE pg_default;

ALTER TABLE public.users
    OWNER to postgres;

//settings


    CREATE TABLE public.settings
    (
        id uuid NOT NULL,
        owner uuid NOT NULL,
        sound_global_volume smallint NOT NULL,
        controls_forward character varying(20) COLLATE pg_catalog."default" NOT NULL,
        controls_backward character varying(20) COLLATE pg_catalog."default" NOT NULL,
        controls_left character varying(20) COLLATE pg_catalog."default" NOT NULL,
        controls_right character varying(20) COLLATE pg_catalog."default" NOT NULL,
        controls_jump character varying(20) COLLATE pg_catalog."default" NOT NULL,
        controls_sprint character varying(20) COLLATE pg_catalog."default" NOT NULL,
        controls_crouch character varying(20) COLLATE pg_catalog."default" NOT NULL,
        controls_interact character varying(20) COLLATE pg_catalog."default" NOT NULL,
        controls_melee character varying(20) COLLATE pg_catalog."default" NOT NULL,
        controls_granade character varying(20) COLLATE pg_catalog."default" NOT NULL,
        graphics_quality character varying(20) COLLATE pg_catalog."default" NOT NULL,
        CONSTRAINT settings_pkey PRIMARY KEY (id),
        CONSTRAINT owner FOREIGN KEY (owner)
            REFERENCES public.users (id) MATCH SIMPLE
            ON UPDATE NO ACTION
            ON DELETE NO ACTION
    )
    
    TABLESPACE pg_default;
    
    ALTER TABLE public.settings
        OWNER to postgres;





//maps




CREATE TABLE public.maps
(
    id uuid NOT NULL,
    type character varying(255) COLLATE pg_catalog."default" NOT NULL,
    max_players smallint NOT NULL,
    players smallint NOT NULL,
    CONSTRAINT maps_pkey PRIMARY KEY (id)
)

TABLESPACE pg_default;

ALTER TABLE public.maps
    OWNER to postgres;

//characters


    CREATE TABLE public.characters
    (
        id uuid NOT NULL,
        owner uuid NOT NULL,
        name character varying(255) COLLATE pg_catalog."default" NOT NULL,
        CONSTRAINT character_pkey PRIMARY KEY (id),
        CONSTRAINT owner FOREIGN KEY (owner)
            REFERENCES public.users (id) MATCH SIMPLE
            ON UPDATE NO ACTION
            ON DELETE NO ACTION
            NOT VALID
    )
    
    TABLESPACE pg_default;
    
    ALTER TABLE public.characters
        OWNER to postgres;







